# Vulnerability-Scans
Vulnerability Testing on different machines
Using Kali Linux for Penetration Testing, Vulnerability Scanning, etc.

Vulnerability Scanner used is the Open Source Vulnerability Assessment System (OpenVas)

#running as GVM admin user and changes password from the long preset password
A number of errors resulting from issues with the postgres sql database were encountered during the installation of GVM & OpenVas.
The solution to fix the mismatched versions within postgress were as followed:

sudo -u postgress psql
- Within postgress SQL
	- ALTER DATABASE postgress REFRESH COLLATION VERSION;
	- ALTER DATABASE template1 REFRESH COLLATION VERSION; 
sudo runuser -postgress -- /user/share/gvm/create-postgresql-database
sudo runuser -u _gvm -- gvmd --create-user=admin --new-password=admin
sudo runuser -u _gvm -- gvmd --user=admin --new-password=admin



Information Gathering with Kali Linux: 
- DNS Analysis 
	- Using Dmitry to identify sub domains. 
	- Can identify open ports and used email addresses that can be used to craft attacks
	- -pb flag to check the most frequently used ports
	
	-DNSEnum 
		- Displays HostAddresses
		- Displays Name Servers
		- Displays Mail (MX) Servers
		- Shows Class C IP Ranges
		- Performs reverse lookups on IP Addresses


Active Target Reconnaissance:
- Nmap
- whatweb

Vulnerability Scanning
- Nikto
	- Web scanning
	- 
- Burp Suite
- OpenVas
	- Came across issues when attempting to perform a scan on web server
	- 'Failed to find port_list '33d0cd82-57c6-11e1-8ed1-406186ea4fc5''
		- Fix to resolve this was to run the following commands: 
			#Updates Feeds and makes sure they're in sync
			- sudo -u _gvm greenbone-feed-sync --type GVMD_DATA
			#Set the feed import owner so that the files can be rebuilt. 
			- sudo -u gvm gvmd --get-users --verbose | grep admin | awk '{print $2}'
			- sudo -u gvm gvmd --modify-setting 78eceaec-3385-11ea-b237-28d24461215b --value 261f7647-2f9f-4571-a81b-27e64bede227
			#Rebuilds the files on the disk for performing scans.
			- sudo -u _gvm gvmd --rebuild-gvmd-data=all
	Once the port list issue had been resolved I was able to perform vulnerability scans on the following ip addresses: 
		- 192.168.50.172 - Vulnerable Web Application Server
		- 192.168.50.239 - Metasploitable Instance. 

	Another issues was encountered where scans were started however they were immediatley interrupted and cancelled. Upon investigation of the GVMD.log it appears that the scanner was using attempting to use the ospd service but was calling the ospd-openvas service. The following actions had to be taken: 
	- Determine default OSPD Scanner Socket Path
		sudo -u _gvm gvmd --get-scanners
	- Compare Scanner Socket path to the default OSPD Scanner Path: They did not match
	- Update the path: 
		sudo -u _gvm gvmd --modify-scanner=<UUID of openvas Default Scanner> --scanner-host=/var/run/ospd/ospd.sock

Scan Results: 
- Metasploitable: 
	- 21 High Impact 
	- 39 Medium Impact
	- 6 Low Impact
	- 88 Log

Student Wellness:
	- 0 High Impact
	- 0 Medium Impact
	- 0 Low Impact
	- 4 Log
